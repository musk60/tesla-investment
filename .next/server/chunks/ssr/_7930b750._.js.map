{"version":3,"sources":["turbopack:///[project]/styles/Auth.module.css [app-ssr] (css module)","../../../../app/login/page.js"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"Auth-module__-ASQiq__button\",\n  \"card\": \"Auth-module__-ASQiq__card\",\n  \"container\": \"Auth-module__-ASQiq__container\",\n  \"error\": \"Auth-module__-ASQiq__error\",\n  \"inputGroup\": \"Auth-module__-ASQiq__inputGroup\",\n  \"link\": \"Auth-module__-ASQiq__link\",\n});\n","'use client';\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport styles from '../../styles/Auth.module.css';\r\n\r\nexport default function Login() {\r\n    const [formData, setFormData] = useState({ email: '', password: '' });\r\n    const [error, setError] = useState('');\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Admin Login Check\r\n        if (formData.email === 'admin' && formData.password === 'tesla123') {\r\n            localStorage.setItem('adminAuth', 'true');\r\n            router.push('/admin/dashboard');\r\n            return;\r\n        }\r\n\r\n        // User Login\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData)\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                // Store user info in localStorage for MVP\r\n                localStorage.setItem('user', JSON.stringify(data.user));\r\n                // Trigger a custom event or just redirect\r\n                window.dispatchEvent(new Event('storage'));\r\n                router.push('/dashboard');\r\n            } else {\r\n                setError(data.error || 'Login failed');\r\n            }\r\n        } catch (err) {\r\n            setError('An error occurred');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.card}>\r\n                <h1>Login</h1>\r\n                {error && <p className={styles.error}>{error}</p>}\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className={styles.inputGroup}>\r\n                        <label>Email or Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.email}\r\n                            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputGroup}>\r\n                        <label>Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={formData.password}\r\n                            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" className={styles.button}>Login</button>\r\n                </form>\r\n                <p className={styles.link}>\r\n                    Don't have an account? <Link href=\"/register\">Register</Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"0BAAA,EAAA,CAAA,CAAA,CACA,OAAA,8BACA,KAAA,4BACA,UAAA,iCACA,MAAA,6BACA,WAAA,kCACA,KAAA,2BACA,4CCNA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,MAAO,GAAI,SAAU,EAAG,GAC7D,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAe,MAAO,IAIxB,GAHA,EAAE,cAAc,GAGO,UAAnB,EAAS,KAAK,EAAsC,aAAtB,EAAS,QAAQ,CAAiB,CAChE,aAAa,OAAO,CAAC,YAAa,QAClC,EAAO,IAAI,CAAC,oBACZ,MACJ,CAGA,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,kBAAmB,CACvC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,EACzB,GACM,EAAO,MAAM,EAAI,IAAI,GAEvB,EAAI,EAAE,EAAE,AAER,aAAa,OAAO,CAAC,OAAQ,KAAK,SAAS,CAAC,EAAK,IAAI,GAErD,OAAO,aAAa,CAAC,IAAI,MAAM,YAC/B,EAAO,IAAI,CAAC,eAEZ,EAAS,EAAK,KAAK,EAAI,eAE/B,CAAE,MAAO,EAAK,CACV,EAAS,oBACb,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,UAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,UACH,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,IACvC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,UAAU,WAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAM,sBACP,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,QAAQ,CAAA,CAAA,OAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,UAAU,WAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAM,aACP,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,WACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,AAAC,GACrE,QAAQ,CAAA,CAAA,OAGhB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,MAAM,UAAE,aAEpD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,IAAI,WAAE,0BACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,qBAAY,oBAKlE"}