module.exports=[95608,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored.contexts.HooksClientContext},36569,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},75392,(a,b,c)=>{"use strict";b.exports=a.r(18622)},86637,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored["react-ssr"].ReactJsxRuntime},89722,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored["react-ssr"].React},15507,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored.contexts.AppRouterContext},15792,(a,b,c)=>{"use strict";b.exports=a.r(75392).vendored["react-ssr"].ReactServerDOMTurbopackClient},77476,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},61820,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},11478,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},97851,a=>{a.v({auth:"Navbar-module__gpr6cq__auth",links:"Navbar-module__gpr6cq__links",logo:"Navbar-module__gpr6cq__logo",logoutButton:"Navbar-module__gpr6cq__logoutButton",navbar:"Navbar-module__gpr6cq__navbar",registerButton:"Navbar-module__gpr6cq__registerButton"})},64006,a=>{"use strict";var b=a.i(86637),c=a.i(89722),d=a.i(68250),e=a.i(16899),f=a.i(97851);function g(){let[a,g]=(0,c.useState)(null),h=(0,e.usePathname)(),i=h?.startsWith("/admin");return(0,c.useEffect)(()=>{let a=()=>{let a=localStorage.getItem("user");a?g(JSON.parse(a)):g(null)};return a(),window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),(0,b.jsxs)("nav",{className:f.default.navbar,children:[!i&&(0,b.jsx)("div",{className:f.default.logo,children:(0,b.jsx)(d.default,{href:"/",children:"TESLA"})}),(0,b.jsxs)("div",{className:f.default.links,children:[(0,b.jsx)(d.default,{href:"/investments",children:"Investments"}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.default,{href:"/dashboard",children:"Dashboard"}),(0,b.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),g(null),window.dispatchEvent(new Event("storage")),router.push("/")},className:f.default.logoutButton,children:"Logout"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.default,{href:"/about",children:"About"}),(0,b.jsx)(d.default,{href:"/login",children:"Login"}),(0,b.jsx)(d.default,{href:"/register",className:f.default.registerButton,children:"Register"})]})]})]})}a.s(["default",()=>g])},42913,a=>{a.v({adminMessage:"ChatWidget-module__Af3wUG__adminMessage",chatWidget:"ChatWidget-module__Af3wUG__chatWidget",chatWindow:"ChatWidget-module__Af3wUG__chatWindow",closeButton:"ChatWidget-module__Af3wUG__closeButton",header:"ChatWidget-module__Af3wUG__header",input:"ChatWidget-module__Af3wUG__input",inputArea:"ChatWidget-module__Af3wUG__inputArea",message:"ChatWidget-module__Af3wUG__message",messages:"ChatWidget-module__Af3wUG__messages",sendButton:"ChatWidget-module__Af3wUG__sendButton",toggleButton:"ChatWidget-module__Af3wUG__toggleButton",userMessage:"ChatWidget-module__Af3wUG__userMessage"})},80250,a=>{"use strict";var b=a.i(86637),c=a.i(89722),d=a.i(42913);function e(){let[a,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),n=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=()=>{let a=localStorage.getItem("user");a?m(JSON.parse(a)):m(null)};return a(),window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),(0,c.useEffect)(()=>{if(!l)return;let b=localStorage.getItem(`chatId_${l.id}`);b||(b=`chat_user_${l.id}`,localStorage.setItem(`chatId_${l.id}`,b)),k(b);let c=setInterval(()=>{a&&b&&o(b)},3e3);return()=>clearInterval(c)},[a,l]);let o=async a=>{try{let b=await fetch(`/api/chat?chatId=${a}`);if(b.ok){let a=await b.json();g(a.messages||[])}}catch(a){console.error("Error fetching messages:",a)}};(0,c.useEffect)(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[f]);let p=async a=>{if(a.preventDefault(),!h.trim())return;let b={text:h,sender:"user",timestamp:new Date().toISOString()};g([...f,b]),i("");try{await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:j,message:b})}),o(j)}catch(a){console.error("Error sending message:",a)}};return l?(0,b.jsxs)("div",{className:d.default.chatWidget,children:[a&&(0,b.jsxs)("div",{className:d.default.chatWindow,children:[(0,b.jsxs)("div",{className:d.default.header,children:[(0,b.jsx)("h3",{children:"Tesla Support"}),(0,b.jsx)("button",{onClick:()=>e(!1),className:d.default.closeButton,children:"Ã—"})]}),(0,b.jsxs)("div",{className:d.default.messages,children:[0===f.length&&(0,b.jsxs)("div",{style:{textAlign:"center",color:"#888",marginTop:"2rem"},children:["How can we help you today, ",l.name,"?"]}),f.map((a,c)=>(0,b.jsx)("div",{className:`${d.default.message} ${"user"===a.sender?d.default.userMessage:d.default.adminMessage}`,children:a.text},c)),(0,b.jsx)("div",{ref:n})]}),(0,b.jsxs)("form",{onSubmit:p,className:d.default.inputArea,children:[(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Type a message...",className:d.default.input}),(0,b.jsx)("button",{type:"submit",disabled:!h.trim(),className:d.default.sendButton,children:"Send"})]})]}),(0,b.jsx)("button",{onClick:()=>e(!a),className:d.default.toggleButton,children:a?"âœ•":"ðŸ’¬"})]}):null}a.s(["default",()=>e])},54612,a=>{"use strict";var b=a.i(89722),c=a.i(16899);function d(){let a=(0,c.useRouter)(),d=(0,c.usePathname)(),[e,f]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{let b=async()=>{try{if(d.startsWith("/admin"))return void f(!1);let b=await fetch("/api/admin/settings"),c=await b.json(),e=localStorage.getItem("adminAuth");c.maintenanceMode?e||"/maintenance"===d||d.startsWith("/login")||a.push("/maintenance"):"/maintenance"===d&&a.push("/")}catch(a){console.error("Error checking maintenance mode:",a)}finally{f(!1)}};b();let c=setInterval(b,3e4);return()=>clearInterval(c)},[d,a]),null}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__617258ea._.js.map