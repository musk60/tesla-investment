{"version":3,"sources":["turbopack:///[project]/styles/AdminUsers.module.css [app-ssr] (css module)","../../../../app/admin/users/page.js"],"sourcesContent":["__turbopack_context__.v({\n  \"actionButton\": \"AdminUsers-module__Ah9E4G__actionButton\",\n  \"backLink\": \"AdminUsers-module__Ah9E4G__backLink\",\n  \"container\": \"AdminUsers-module__Ah9E4G__container\",\n  \"header\": \"AdminUsers-module__Ah9E4G__header\",\n  \"table\": \"AdminUsers-module__Ah9E4G__table\",\n  \"tableContainer\": \"AdminUsers-module__Ah9E4G__tableContainer\",\n});\n","'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from '../../../styles/AdminUsers.module.css';\r\n\r\nexport default function AdminUsers() {\r\n    const [users, setUsers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const checkAuth = () => {\r\n            const isAdmin = localStorage.getItem('adminAuth');\r\n            if (!isAdmin) {\r\n                router.push('/admin/login');\r\n            }\r\n        };\r\n        checkAuth();\r\n        fetchUsers();\r\n    }, [router]);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const res = await fetch('/api/admin/users');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setUsers(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch users:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (userId) => {\r\n        if (confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\r\n            try {\r\n                const res = await fetch(`/api/admin/users/${userId}`, {\r\n                    method: 'DELETE',\r\n                });\r\n\r\n                if (res.ok) {\r\n                    // Refresh the list\r\n                    fetchUsers();\r\n                } else {\r\n                    alert('Failed to delete user');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting user:', error);\r\n                alert('An error occurred');\r\n            }\r\n        }\r\n    };\r\n\r\n    if (loading) return <div style={{ color: 'white', padding: '2rem' }}>Loading...</div>;\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.header}>\r\n                <h1>User Management</h1>\r\n                <Link href=\"/admin/dashboard\" className={styles.backLink}>\r\n                    ‚Üê Back to Dashboard\r\n                </Link>\r\n            </div>\r\n\r\n            <div className={styles.tableContainer}>\r\n                <table className={styles.table}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Email</th>\r\n                            <th>Total Invested</th>\r\n                            <th>Current Value</th>\r\n                            <th>Active Plans</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map(user => (\r\n                            <tr key={user.id}>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>${user.totalInvested?.toLocaleString()}</td>\r\n                                <td>${user.currentValue?.toLocaleString()}</td>\r\n                                <td>{user.activePlansCount}</td>\r\n                                <td>\r\n                                    <Link href={`/admin/users/${user.id}`} className={styles.actionButton}>\r\n                                        Manage\r\n                                    </Link>\r\n                                    <button\r\n                                        onClick={() => handleDelete(user.id)}\r\n                                        className={styles.deleteButton}\r\n                                        style={{ marginLeft: '10px', backgroundColor: '#e74c3c', color: 'white', border: 'none', padding: '0.5rem 1rem', borderRadius: '4px', cursor: 'pointer' }}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {users.length === 0 && (\r\n                            <tr>\r\n                                <td colSpan=\"6\" style={{ textAlign: 'center', padding: '2rem', color: '#999' }}>\r\n                                    No users found.\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}