module.exports=[755,a=>{a.v({card:"InvestmentCard-module__MDNESW__card",description:"InvestmentCard-module__MDNESW__description",header:"InvestmentCard-module__MDNESW__header",investButton:"InvestmentCard-module__MDNESW__investButton",label:"InvestmentCard-module__MDNESW__label",risk:"InvestmentCard-module__MDNESW__risk",stat:"InvestmentCard-module__MDNESW__stat",stats:"InvestmentCard-module__MDNESW__stats",value:"InvestmentCard-module__MDNESW__value"})},71023,a=>{a.v({cancelButton:"Investments-module__J1sRBW__cancelButton",confirmButton:"Investments-module__J1sRBW__confirmButton",container:"Investments-module__J1sRBW__container",error:"Investments-module__J1sRBW__error",inputGroup:"Investments-module__J1sRBW__inputGroup",investButton:"Investments-module__J1sRBW__investButton",modal:"Investments-module__J1sRBW__modal",modalActions:"Investments-module__J1sRBW__modalActions",modalOverlay:"Investments-module__J1sRBW__modalOverlay",success:"Investments-module__J1sRBW__success",title:"Investments-module__J1sRBW__title"})},51620,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(755);function f({plan:a}){return(0,b.jsxs)("div",{className:e.default.card,children:[(0,b.jsxs)("div",{className:e.default.header,children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsxs)("span",{className:e.default.risk,children:[a.risk," Risk"]})]}),(0,b.jsx)("p",{className:e.default.description,children:a.description}),(0,b.jsxs)("div",{className:e.default.stats,children:[(0,b.jsxs)("div",{className:e.default.stat,children:[(0,b.jsx)("span",{className:e.default.label,children:"ROI"}),(0,b.jsx)("span",{className:e.default.value,children:a.roi})]}),(0,b.jsxs)("div",{className:e.default.stat,children:[(0,b.jsx)("span",{className:e.default.label,children:"Min. Invest"}),(0,b.jsxs)("span",{className:e.default.value,children:["$",a.minInvestment]})]}),(0,b.jsxs)("div",{className:e.default.stat,children:[(0,b.jsx)("span",{className:e.default.label,children:"Duration"}),(0,b.jsx)("span",{className:e.default.value,children:a.duration})]})]})]})}var g=a.i(71023);function h(){let[a,e]=(0,c.useState)([]),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),p=(0,d.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/investments");if(a.ok){let b=await a.json();e(b)}}catch(a){console.error("Failed to fetch plans")}})()},[]);let q=async a=>{a.preventDefault();let b=JSON.parse(localStorage.getItem("user"));try{let a=await fetch("/api/invest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.email,planId:h.id,amount:j})}),c=await a.json();a.ok?(o("Investment successful! Redirecting to dashboard..."),setTimeout(()=>{p.push("/dashboard")},2e3)):m(c.error||"Investment failed")}catch(a){m("An error occurred")}};return(0,b.jsxs)("div",{className:g.default.container,children:[(0,b.jsx)("h1",{className:g.default.title,children:"Investment Plans"}),(0,b.jsx)("p",{className:g.default.subtitle,children:"Choose a plan that suits your financial goals and risk tolerance."}),(0,b.jsx)("div",{className:g.default.grid,children:a.map(a=>(0,b.jsxs)("div",{className:g.default.cardWrapper,children:[(0,b.jsx)(f,{plan:a}),(0,b.jsx)("button",{className:g.default.investButton,onClick:()=>{!localStorage.getItem("user")?p.push("/login"):(i(a),k(a.minInvestment),m(""),o(""))},children:"Invest Now"})]},a.id))}),h&&(0,b.jsx)("div",{className:g.default.modalOverlay,onClick:()=>i(null),children:(0,b.jsxs)("div",{className:g.default.modal,onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("h2",{children:["Invest in ",h.name]}),(0,b.jsxs)("p",{children:["Minimum Investment: $",h.minInvestment]}),l&&(0,b.jsx)("p",{className:g.default.error,children:l}),n&&(0,b.jsx)("p",{className:g.default.success,children:n}),!n&&(0,b.jsxs)("form",{onSubmit:q,children:[(0,b.jsxs)("div",{className:g.default.inputGroup,children:[(0,b.jsx)("label",{children:"Amount ($)"}),(0,b.jsx)("input",{type:"number",value:j,onChange:a=>k(a.target.value),min:h.minInvestment,required:!0})]}),(0,b.jsxs)("div",{className:g.default.modalActions,children:[(0,b.jsx)("button",{type:"button",onClick:()=>i(null),className:g.default.cancelButton,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:g.default.confirmButton,children:"Confirm Investment"})]})]})]})})]})}a.s(["default",()=>h],51620)}];

//# sourceMappingURL=_3cdb394e._.js.map