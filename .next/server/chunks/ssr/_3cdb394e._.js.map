{"version":3,"sources":["turbopack:///[project]/styles/InvestmentCard.module.css [app-ssr] (css module)","turbopack:///[project]/styles/Investments.module.css [app-ssr] (css module)","../../../../app/investments/page.js","../../../../components/InvestmentCard.js"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"InvestmentCard-module__MDNESW__card\",\n  \"description\": \"InvestmentCard-module__MDNESW__description\",\n  \"header\": \"InvestmentCard-module__MDNESW__header\",\n  \"investButton\": \"InvestmentCard-module__MDNESW__investButton\",\n  \"label\": \"InvestmentCard-module__MDNESW__label\",\n  \"risk\": \"InvestmentCard-module__MDNESW__risk\",\n  \"stat\": \"InvestmentCard-module__MDNESW__stat\",\n  \"stats\": \"InvestmentCard-module__MDNESW__stats\",\n  \"value\": \"InvestmentCard-module__MDNESW__value\",\n});\n","__turbopack_context__.v({\n  \"cancelButton\": \"Investments-module__J1sRBW__cancelButton\",\n  \"confirmButton\": \"Investments-module__J1sRBW__confirmButton\",\n  \"container\": \"Investments-module__J1sRBW__container\",\n  \"error\": \"Investments-module__J1sRBW__error\",\n  \"inputGroup\": \"Investments-module__J1sRBW__inputGroup\",\n  \"investButton\": \"Investments-module__J1sRBW__investButton\",\n  \"modal\": \"Investments-module__J1sRBW__modal\",\n  \"modalActions\": \"Investments-module__J1sRBW__modalActions\",\n  \"modalOverlay\": \"Investments-module__J1sRBW__modalOverlay\",\n  \"success\": \"Investments-module__J1sRBW__success\",\n  \"title\": \"Investments-module__J1sRBW__title\",\n});\n","'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport InvestmentCard from '../../components/InvestmentCard';\r\nimport styles from '../../styles/Investments.module.css';\r\n\r\nexport default function Investments() {\r\n    const [plans, setPlans] = useState([]);\r\n    const [selectedPlan, setSelectedPlan] = useState(null);\r\n    const [amount, setAmount] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const fetchPlans = async () => {\r\n            try {\r\n                const res = await fetch('/api/investments');\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    setPlans(data);\r\n                }\r\n            } catch (e) {\r\n                console.error('Failed to fetch plans');\r\n            }\r\n        };\r\n        fetchPlans();\r\n    }, []);\r\n\r\n    const handleInvestClick = (plan) => {\r\n        const user = localStorage.getItem('user');\r\n        if (!user) {\r\n            router.push('/login');\r\n            return;\r\n        }\r\n        setSelectedPlan(plan);\r\n        setAmount(plan.minInvestment);\r\n        setError('');\r\n        setSuccess('');\r\n    };\r\n\r\n    const handleInvestSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n        try {\r\n            const res = await fetch('/api/invest', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    email: user.email,\r\n                    planId: selectedPlan.id,\r\n                    amount\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setSuccess('Investment successful! Redirecting to dashboard...');\r\n                setTimeout(() => {\r\n                    router.push('/dashboard');\r\n                }, 2000);\r\n            } else {\r\n                setError(data.error || 'Investment failed');\r\n            }\r\n        } catch (err) {\r\n            setError('An error occurred');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <h1 className={styles.title}>Investment Plans</h1>\r\n            <p className={styles.subtitle}>\r\n                Choose a plan that suits your financial goals and risk tolerance.\r\n            </p>\r\n\r\n            <div className={styles.grid}>\r\n                {plans.map(plan => (\r\n                    <div key={plan.id} className={styles.cardWrapper}>\r\n                        <InvestmentCard plan={plan} />\r\n                        <button\r\n                            className={styles.investButton}\r\n                            onClick={() => handleInvestClick(plan)}\r\n                        >\r\n                            Invest Now\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {selectedPlan && (\r\n                <div className={styles.modalOverlay} onClick={() => setSelectedPlan(null)}>\r\n                    <div className={styles.modal} onClick={e => e.stopPropagation()}>\r\n                        <h2>Invest in {selectedPlan.name}</h2>\r\n                        <p>Minimum Investment: ${selectedPlan.minInvestment}</p>\r\n\r\n                        {error && <p className={styles.error}>{error}</p>}\r\n                        {success && <p className={styles.success}>{success}</p>}\r\n\r\n                        {!success && (\r\n                            <form onSubmit={handleInvestSubmit}>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>Amount ($)</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={amount}\r\n                                        onChange={e => setAmount(e.target.value)}\r\n                                        min={selectedPlan.minInvestment}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className={styles.modalActions}>\r\n                                    <button type=\"button\" onClick={() => setSelectedPlan(null)} className={styles.cancelButton}>Cancel</button>\r\n                                    <button type=\"submit\" className={styles.confirmButton}>Confirm Investment</button>\r\n                                </div>\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import styles from '../styles/InvestmentCard.module.css'\r\n\r\nexport default function InvestmentCard({ plan }) {\r\n    return (\r\n        <div className={styles.card}>\r\n            <div className={styles.header}>\r\n                <h3>{plan.name}</h3>\r\n                <span className={styles.risk}>{plan.risk} Risk</span>\r\n            </div>\r\n            <p className={styles.description}>{plan.description}</p>\r\n            <div className={styles.stats}>\r\n                <div className={styles.stat}>\r\n                    <span className={styles.label}>ROI</span>\r\n                    <span className={styles.value}>{plan.roi}</span>\r\n                </div>\r\n                <div className={styles.stat}>\r\n                    <span className={styles.label}>Min. Invest</span>\r\n                    <span className={styles.value}>${plan.minInvestment}</span>\r\n                </div>\r\n                <div className={styles.stat}>\r\n                    <span className={styles.label}>Duration</span>\r\n                    <span className={styles.value}>{plan.duration}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"wBAAA,EAAA,CAAA,CAAA,CACA,KAAA,sCACA,YAAA,6CACA,OAAA,wCACA,aAAA,8CACA,MAAA,uCACA,KAAA,sCACA,KAAA,sCACA,MAAA,uCACA,MAAA,sCACA,cCVA,EAAA,CAAA,CAAA,CACA,aAAA,2CACA,cAAA,4CACA,UAAA,wCACA,MAAA,oCACA,WAAA,yCACA,aAAA,2CACA,MAAA,oCACA,aAAA,2CACA,aAAA,2CACA,QAAA,sCACA,MAAA,mCACA,4CCXA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCFA,EAAA,EAAA,CAAA,CAAA,KAEe,SAAS,EAAe,MAAE,CAAI,CAAE,EAC3C,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAK,IAAI,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,WAAG,EAAK,IAAI,CAAC,cAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,WAAW,UAAG,EAAK,WAAW,GACnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,WACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,QAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAK,GAAG,MAE5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,gBAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,WAAE,IAAE,EAAK,aAAa,OAEvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,aAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAK,QAAQ,WAKjE,CDtBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EAC/B,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC3C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAExB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAYN,CAXmB,UACf,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,oBACxB,GAAI,EAAI,EAAE,CAAE,CACR,IAAM,EAAO,MAAM,EAAI,IAAI,GAC3B,EAAS,EACb,CACJ,CAAE,MAAO,EAAG,CACR,QAAQ,KAAK,CAAC,wBAClB,EACJ,GAEJ,EAAG,EAAE,EAcL,IAAM,EAAqB,MAAO,IAC9B,EAAE,cAAc,GAChB,IAAM,EAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,SAE7C,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,cAAe,CACnC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACjB,MAAO,EAAK,KAAK,CACjB,OAAQ,EAAa,EAAE,QACvB,CACJ,EACJ,GAEM,EAAO,MAAM,EAAI,IAAI,GAEvB,EAAI,EAAE,EAAE,AACR,EAAW,sDACX,WAAW,KACP,EAAO,IAAI,CAAC,aAChB,EAAG,MAEH,EAAS,EAAK,KAAK,EAAI,oBAE/B,CAAE,MAAO,EAAK,CACV,EAAS,oBACb,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,qBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAE,sEAI/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,UACtB,EAAM,GAAG,CAAC,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAW,EAAA,OAAM,CAAC,WAAW,WAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,KAAM,IACtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,QAAS,IAAM,CArDnC,AAAI,CADS,AACR,MAAM,OADe,OAAO,CAAC,QAE9B,EAAO,IAAI,CAAC,WAGhB,KACA,EAAU,AAgD2C,EAhDtC,OADC,MACY,EAC5B,EAAS,IACT,EAAW,eA+CM,iBALK,EAAK,EAAE,KAYxB,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,QAAS,IAAM,EAAgB,eAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,CAAE,QAAS,GAAK,EAAE,eAAe,aACzD,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WAAG,aAAW,EAAa,IAAI,IAChC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,wBAAsB,EAAa,aAAa,IAElD,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,IACtC,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,OAAO,UAAG,IAE1C,CAAC,GACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,UAAU,WAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAM,eACP,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,SACL,MAAO,EACP,SAAU,GAAK,EAAU,EAAE,MAAM,CAAC,KAAK,EACvC,IAAK,EAAa,aAAa,CAC/B,QAAQ,CAAA,CAAA,OAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,WAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,QAAS,IAAM,EAAgB,MAAO,UAAW,EAAA,OAAM,CAAC,YAAY,UAAE,WAC5F,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,aAAa,UAAE,oCAS3F"}