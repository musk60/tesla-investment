module.exports=[57589,a=>{a.v({active:"AdminDashboard-module__GcI4OW__active",addButton:"AdminDashboard-module__GcI4OW__addButton",cancelButton:"AdminDashboard-module__GcI4OW__cancelButton",card:"AdminDashboard-module__GcI4OW__card",container:"AdminDashboard-module__GcI4OW__container",editButton:"AdminDashboard-module__GcI4OW__editButton",formActions:"AdminDashboard-module__GcI4OW__formActions",formContainer:"AdminDashboard-module__GcI4OW__formContainer",formGrid:"AdminDashboard-module__GcI4OW__formGrid",grid:"AdminDashboard-module__GcI4OW__grid",header:"AdminDashboard-module__GcI4OW__header",inputGroup:"AdminDashboard-module__GcI4OW__inputGroup",loading:"AdminDashboard-module__GcI4OW__loading",logo:"AdminDashboard-module__GcI4OW__logo",logoutButton:"AdminDashboard-module__GcI4OW__logoutButton",mainContent:"AdminDashboard-module__GcI4OW__mainContent",nav:"AdminDashboard-module__GcI4OW__nav",saveButton:"AdminDashboard-module__GcI4OW__saveButton",sidebar:"AdminDashboard-module__GcI4OW__sidebar",stats:"AdminDashboard-module__GcI4OW__stats"})},4602,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(57589);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!0),p=(0,e.useRouter)();(0,c.useEffect)(()=>{localStorage.getItem("adminAuth")?o(!1):p.push("/login"),q(),r()},[p]);let q=async()=>{try{let a=await fetch("/api/investments");if(a.ok){let b=await a.json();g(b)}}catch(a){console.error("Failed to fetch plans:",a)}},r=async()=>{try{let a=await fetch("/api/admin/settings"),b=await a.json();m(b.maintenanceMode)}catch(a){console.error("Error fetching settings:",a)}},s=async()=>{try{let a=!l;(await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maintenanceMode:a})})).ok&&(m(a),alert(`Maintenance mode is now ${a?"ON":"OFF"}`))}catch(a){console.error("Error toggling maintenance:",a)}},t=async a=>{a.preventDefault();let b=j.id?"PUT":"POST";try{await fetch("/api/investments",{method:b,headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),i(!1),q()}catch(a){console.error("Failed to save plan:",a)}},u=a=>{let{name:b,value:c}=a.target;k(a=>({...a,[b]:c}))};return n?(0,b.jsx)("div",{className:f.default.loading,children:"Loading..."}):(0,b.jsxs)("div",{className:f.default.container,children:[(0,b.jsxs)("div",{className:f.default.sidebar,children:[(0,b.jsx)("div",{className:f.default.logo,children:"TESLA ADMIN"}),(0,b.jsxs)("nav",{className:f.default.nav,children:[(0,b.jsx)(d.default,{href:"/admin/dashboard",className:f.default.active,children:"Dashboard"}),(0,b.jsx)(d.default,{href:"/admin/users",children:"User Management"}),(0,b.jsx)(d.default,{href:"/admin/chat",children:"Support Chat"})]}),(0,b.jsx)("div",{className:f.default.maintenanceControl,style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"auto"},children:(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",color:l?"#f44336":"#4caf50"},children:[(0,b.jsx)("input",{type:"checkbox",checked:l,onChange:s,style:{accentColor:"#e82127"}}),l?"Maintenance ON":"Maintenance OFF"]})}),(0,b.jsx)("button",{onClick:()=>{localStorage.removeItem("adminAuth"),p.push("/login")},className:f.default.logoutButton,children:"Logout"})]}),(0,b.jsxs)("div",{className:f.default.mainContent,children:[(0,b.jsxs)("div",{className:f.default.header,children:[(0,b.jsx)("h1",{children:"Investment Plans"}),(0,b.jsx)("button",{onClick:()=>{k({name:"",minInvestment:"",roi:"",duration:"",risk:"",description:""}),i(!0)},className:f.default.addButton,children:"+ Add New Plan"})]}),h?(0,b.jsxs)("div",{className:f.default.formContainer,children:[(0,b.jsx)("h2",{children:j.id?"Edit Plan":"Add Plan"}),(0,b.jsxs)("form",{onSubmit:t,children:[(0,b.jsxs)("div",{className:f.default.formGrid,children:[(0,b.jsxs)("div",{className:f.default.inputGroup,children:[(0,b.jsx)("label",{children:"Name"}),(0,b.jsx)("input",{name:"name",value:j.name,onChange:u,required:!0})]}),(0,b.jsxs)("div",{className:f.default.inputGroup,children:[(0,b.jsx)("label",{children:"Min Investment"}),(0,b.jsx)("input",{name:"minInvestment",type:"number",value:j.minInvestment,onChange:u,required:!0})]}),(0,b.jsxs)("div",{className:f.default.inputGroup,children:[(0,b.jsx)("label",{children:"ROI"}),(0,b.jsx)("input",{name:"roi",value:j.roi,onChange:u,required:!0})]}),(0,b.jsxs)("div",{className:f.default.inputGroup,children:[(0,b.jsx)("label",{children:"Duration"}),(0,b.jsx)("input",{name:"duration",value:j.duration,onChange:u,required:!0})]}),(0,b.jsxs)("div",{className:f.default.inputGroup,children:[(0,b.jsx)("label",{children:"Risk"}),(0,b.jsx)("input",{name:"risk",value:j.risk,onChange:u,required:!0})]}),(0,b.jsxs)("div",{className:f.default.inputGroup,style:{gridColumn:"1 / -1"},children:[(0,b.jsx)("label",{children:"Description"}),(0,b.jsx)("textarea",{name:"description",value:j.description,onChange:u,required:!0,rows:"3"})]})]}),(0,b.jsxs)("div",{className:f.default.formActions,children:[(0,b.jsx)("button",{type:"button",onClick:()=>i(!1),className:f.default.cancelButton,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:f.default.saveButton,children:"Save"})]})]})]}):(0,b.jsx)("div",{className:f.default.grid,children:a.map(a=>(0,b.jsxs)("div",{className:f.default.card,children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsx)("p",{children:a.description}),(0,b.jsxs)("div",{className:f.default.stats,children:[(0,b.jsxs)("span",{children:["ROI: ",a.roi]}),(0,b.jsxs)("span",{children:["Min: $",a.minInvestment]})]}),(0,b.jsx)("button",{onClick:()=>{k(a),i(!0)},className:f.default.editButton,children:"Edit"})]},a.id))})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_c8be6921._.js.map