{"version":3,"sources":["turbopack:///[project]/tesla-investment/styles/AdminDashboard.module.css [app-ssr] (css module)","../../../../../tesla-investment/app/admin/dashboard/page.js"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"AdminDashboard-module__RULA0G__active\",\n  \"addButton\": \"AdminDashboard-module__RULA0G__addButton\",\n  \"cancelButton\": \"AdminDashboard-module__RULA0G__cancelButton\",\n  \"card\": \"AdminDashboard-module__RULA0G__card\",\n  \"container\": \"AdminDashboard-module__RULA0G__container\",\n  \"editButton\": \"AdminDashboard-module__RULA0G__editButton\",\n  \"formActions\": \"AdminDashboard-module__RULA0G__formActions\",\n  \"formContainer\": \"AdminDashboard-module__RULA0G__formContainer\",\n  \"formGrid\": \"AdminDashboard-module__RULA0G__formGrid\",\n  \"grid\": \"AdminDashboard-module__RULA0G__grid\",\n  \"header\": \"AdminDashboard-module__RULA0G__header\",\n  \"inputGroup\": \"AdminDashboard-module__RULA0G__inputGroup\",\n  \"loading\": \"AdminDashboard-module__RULA0G__loading\",\n  \"logo\": \"AdminDashboard-module__RULA0G__logo\",\n  \"logoutButton\": \"AdminDashboard-module__RULA0G__logoutButton\",\n  \"mainContent\": \"AdminDashboard-module__RULA0G__mainContent\",\n  \"nav\": \"AdminDashboard-module__RULA0G__nav\",\n  \"saveButton\": \"AdminDashboard-module__RULA0G__saveButton\",\n  \"sidebar\": \"AdminDashboard-module__RULA0G__sidebar\",\n  \"stats\": \"AdminDashboard-module__RULA0G__stats\",\n});\n","'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from '../../../styles/AdminDashboard.module.css';\r\n\r\nexport default function AdminDashboard() {\r\n    const [plans, setPlans] = useState([]);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [currentPlan, setCurrentPlan] = useState(null);\r\n    const [maintenanceMode, setMaintenanceMode] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const checkAuth = () => {\r\n            const auth = localStorage.getItem('adminAuth');\r\n            if (!auth) {\r\n                router.push('/login');\r\n            } else {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        checkAuth();\r\n        fetchPlans();\r\n        fetchSettings();\r\n    }, [router]);\r\n\r\n    const fetchPlans = async () => {\r\n        try {\r\n            const res = await fetch('/api/investments');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setPlans(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch plans:', error);\r\n        }\r\n    };\r\n\r\n    const fetchSettings = async () => {\r\n        try {\r\n            const res = await fetch('/api/admin/settings');\r\n            const data = await res.json();\r\n            setMaintenanceMode(data.maintenanceMode);\r\n        } catch (error) {\r\n            console.error('Error fetching settings:', error);\r\n        }\r\n    };\r\n\r\n    const toggleMaintenance = async () => {\r\n        try {\r\n            const newMode = !maintenanceMode;\r\n            const res = await fetch('/api/admin/settings', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ maintenanceMode: newMode }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                setMaintenanceMode(newMode);\r\n                alert(`Maintenance mode is now ${newMode ? 'ON' : 'OFF'}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error toggling maintenance:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (plan) => {\r\n        setCurrentPlan(plan);\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleAdd = () => {\r\n        setCurrentPlan({\r\n            name: '',\r\n            minInvestment: '',\r\n            roi: '',\r\n            duration: '',\r\n            risk: '',\r\n            description: ''\r\n        });\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleSave = async (e) => {\r\n        e.preventDefault();\r\n        const method = currentPlan.id ? 'PUT' : 'POST';\r\n\r\n        try {\r\n            await fetch('/api/investments', {\r\n                method,\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(currentPlan)\r\n            });\r\n            setIsEditing(false);\r\n            fetchPlans();\r\n        } catch (error) {\r\n            console.error('Failed to save plan:', error);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setCurrentPlan(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('adminAuth');\r\n        router.push('/login');\r\n    };\r\n\r\n    if (loading) return <div className={styles.loading}>Loading...</div>;\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.sidebar}>\r\n                <div className={styles.logo}>TESLA ADMIN</div>\r\n                <nav className={styles.nav}>\r\n                    <Link href=\"/admin/dashboard\" className={styles.active}>Dashboard</Link>\r\n                    <Link href=\"/admin/users\">User Management</Link>\r\n                    <Link href=\"/admin/chat\">Support Chat</Link>\r\n                </nav>\r\n                <div className={styles.maintenanceControl} style={{ padding: '1rem', borderTop: '1px solid rgba(255,255,255,0.1)', marginTop: 'auto' }}>\r\n                    <label style={{ display: 'flex', alignItems: 'center', gap: '10px', cursor: 'pointer', color: maintenanceMode ? '#f44336' : '#4caf50' }}>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={maintenanceMode}\r\n                            onChange={toggleMaintenance}\r\n                            style={{ accentColor: '#e82127' }}\r\n                        />\r\n                        {maintenanceMode ? 'Maintenance ON' : 'Maintenance OFF'}\r\n                    </label>\r\n                </div>\r\n                <button onClick={handleLogout} className={styles.logoutButton}>Logout</button>\r\n            </div>\r\n\r\n            <div className={styles.mainContent}>\r\n                <div className={styles.header}>\r\n                    <h1>Investment Plans</h1>\r\n                    <button onClick={handleAdd} className={styles.addButton}>\r\n                        + Add New Plan\r\n                    </button>\r\n                </div>\r\n\r\n                {isEditing ? (\r\n                    <div className={styles.formContainer}>\r\n                        <h2>{currentPlan.id ? 'Edit Plan' : 'Add Plan'}</h2>\r\n                        <form onSubmit={handleSave}>\r\n                            <div className={styles.formGrid}>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>Name</label>\r\n                                    <input name=\"name\" value={currentPlan.name} onChange={handleChange} required />\r\n                                </div>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>Min Investment</label>\r\n                                    <input name=\"minInvestment\" type=\"number\" value={currentPlan.minInvestment} onChange={handleChange} required />\r\n                                </div>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>ROI</label>\r\n                                    <input name=\"roi\" value={currentPlan.roi} onChange={handleChange} required />\r\n                                </div>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>Duration</label>\r\n                                    <input name=\"duration\" value={currentPlan.duration} onChange={handleChange} required />\r\n                                </div>\r\n                                <div className={styles.inputGroup}>\r\n                                    <label>Risk</label>\r\n                                    <input name=\"risk\" value={currentPlan.risk} onChange={handleChange} required />\r\n                                </div>\r\n                                <div className={styles.inputGroup} style={{ gridColumn: '1 / -1' }}>\r\n                                    <label>Description</label>\r\n                                    <textarea name=\"description\" value={currentPlan.description} onChange={handleChange} required rows=\"3\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.formActions}>\r\n                                <button type=\"button\" onClick={() => setIsEditing(false)} className={styles.cancelButton}>Cancel</button>\r\n                                <button type=\"submit\" className={styles.saveButton}>Save</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                ) : (\r\n                    <div className={styles.grid}>\r\n                        {plans.map(plan => (\r\n                            <div key={plan.id} className={styles.card}>\r\n                                <h3>{plan.name}</h3>\r\n                                <p>{plan.description}</p>\r\n                                <div className={styles.stats}>\r\n                                    <span>ROI: {plan.roi}</span>\r\n                                    <span>Min: ${plan.minInvestment}</span>\r\n                                </div>\r\n                                <button onClick={() => handleEdit(plan)} className={styles.editButton}>Edit</button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}