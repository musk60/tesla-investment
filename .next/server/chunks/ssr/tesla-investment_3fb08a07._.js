module.exports=[38931,a=>{a.v({actionButton:"AdminUsers-module__MB0zMq__actionButton",backLink:"AdminUsers-module__MB0zMq__backLink",container:"AdminUsers-module__MB0zMq__container",header:"AdminUsers-module__MB0zMq__header",table:"AdminUsers-module__MB0zMq__table",tableContainer:"AdminUsers-module__MB0zMq__tableContainer"})},69952,a=>{"use strict";var b=a.i(86637),c=a.i(89722),d=a.i(68250),e=a.i(16899),f=a.i(38931);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),j=(0,e.useRouter)();(0,c.useEffect)(()=>{localStorage.getItem("adminAuth")||j.push("/admin/login"),k()},[j]);let k=async()=>{try{let a=await fetch("/api/admin/users");if(a.ok){let b=await a.json();g(b)}}catch(a){console.error("Failed to fetch users:",a)}finally{i(!1)}},l=async a=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{(await fetch(`/api/admin/users/${a}`,{method:"DELETE"})).ok?k():alert("Failed to delete user")}catch(a){console.error("Error deleting user:",a),alert("An error occurred")}};return h?(0,b.jsx)("div",{style:{color:"white",padding:"2rem"},children:"Loading..."}):(0,b.jsxs)("div",{className:f.default.container,children:[(0,b.jsxs)("div",{className:f.default.header,children:[(0,b.jsx)("h1",{children:"User Management"}),(0,b.jsx)(d.default,{href:"/admin/dashboard",className:f.default.backLink,children:"â† Back to Dashboard"})]}),(0,b.jsx)("div",{className:f.default.tableContainer,children:(0,b.jsxs)("table",{className:f.default.table,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"Email"}),(0,b.jsx)("th",{children:"Total Invested"}),(0,b.jsx)("th",{children:"Current Value"}),(0,b.jsx)("th",{children:"Active Plans"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[a.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.name}),(0,b.jsx)("td",{children:a.email}),(0,b.jsxs)("td",{children:["$",a.totalInvested?.toLocaleString()]}),(0,b.jsxs)("td",{children:["$",a.currentValue?.toLocaleString()]}),(0,b.jsx)("td",{children:a.activePlansCount}),(0,b.jsxs)("td",{children:[(0,b.jsx)(d.default,{href:`/admin/users/${a.id}`,className:f.default.actionButton,children:"Manage"}),(0,b.jsx)("button",{onClick:()=>l(a.id),className:f.default.deleteButton,style:{marginLeft:"10px",backgroundColor:"#e74c3c",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})]},a.id)),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No users found."})})]})]})})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=tesla-investment_3fb08a07._.js.map