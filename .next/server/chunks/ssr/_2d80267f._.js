module.exports=[28445,a=>{a.v({amount:"Dashboard-module__2YNnkq__amount",card:"Dashboard-module__2YNnkq__card",date:"Dashboard-module__2YNnkq__date",label:"Dashboard-module__2YNnkq__label",loading:"Dashboard-module__2YNnkq__loading",negative:"Dashboard-module__2YNnkq__negative",noInvestments:"Dashboard-module__2YNnkq__noInvestments",overview:"Dashboard-module__2YNnkq__overview",pendingBadge:"Dashboard-module__2YNnkq__pendingBadge",pendingRow:"Dashboard-module__2YNnkq__pendingRow",pendingText:"Dashboard-module__2YNnkq__pendingText",planInfo:"Dashboard-module__2YNnkq__planInfo",planRow:"Dashboard-module__2YNnkq__planRow",planStats:"Dashboard-module__2YNnkq__planStats",portfolio:"Dashboard-module__2YNnkq__portfolio",positive:"Dashboard-module__2YNnkq__positive",statGroup:"Dashboard-module__2YNnkq__statGroup",subtitle:"Dashboard-module__2YNnkq__subtitle"})},21163,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(28445);function f(){let[a,f]=(0,c.useState)(null),g=(0,d.useRouter)();(0,c.useEffect)(()=>{let a=localStorage.getItem("user");a?h(JSON.parse(a).email):g.push("/login")},[]);let h=async a=>{try{let b=await fetch(`/api/user?email=${a}`);if(b.ok){let a=await b.json();f(a)}else localStorage.removeItem("user"),g.push("/login")}catch(a){console.error("Failed to fetch user data")}};if(!a)return(0,b.jsx)("div",{className:e.default.loading,children:"Loading..."});let i=a.currentValue-a.totalInvested,j=a.totalInvested>0?(i/a.totalInvested*100).toFixed(2):"0.00";return(0,b.jsxs)("div",{className:e.default.dashboard,children:[(0,b.jsxs)("h1",{className:e.default.title,children:["Welcome back, ",a.name]}),(0,b.jsxs)("div",{className:e.default.overview,children:[(0,b.jsxs)("div",{className:e.default.card,children:[(0,b.jsx)("h3",{children:"Total Invested"}),(0,b.jsxs)("p",{className:e.default.amount,children:["$",a.totalInvested.toLocaleString()]})]}),(0,b.jsxs)("div",{className:e.default.card,children:[(0,b.jsx)("h3",{children:"Current Value"}),(0,b.jsxs)("p",{className:e.default.amount,children:["$",a.currentValue.toLocaleString()]})]}),(0,b.jsxs)("div",{className:e.default.card,children:[(0,b.jsx)("h3",{children:"Total Return"}),(0,b.jsxs)("p",{className:`${e.default.amount} ${i>=0?e.default.positive:e.default.negative}`,children:[i>=0?"+":"","$",i.toLocaleString()," (",j,"%)"]})]})]}),(0,b.jsx)("h2",{className:e.default.subtitle,children:"Your Portfolio"}),0===a.activePlans.length?(0,b.jsxs)("p",{className:e.default.noInvestments,children:["You have no active investments. ",(0,b.jsx)("a",{href:"/investments",children:"Start investing now."})]}):(0,b.jsx)("div",{className:e.default.portfolio,children:a.activePlans.map(a=>(0,b.jsxs)("div",{className:`${e.default.planRow} ${"pending"===a.status?e.default.pendingRow:""}`,children:[(0,b.jsxs)("div",{className:e.default.planInfo,children:[(0,b.jsxs)("h4",{children:[a.name,"pending"===a.status&&(0,b.jsx)("span",{className:e.default.pendingBadge,children:"Pending Approval"})]}),(0,b.jsxs)("span",{className:e.default.date,children:["Invested on ",a.dateInvested]})]}),(0,b.jsx)("div",{className:e.default.planStats,children:(0,b.jsxs)("div",{className:e.default.statGroup,children:[(0,b.jsx)("span",{className:e.default.label,children:"Invested"}),(0,b.jsxs)("span",{children:["$",a.investedAmount.toLocaleString()]})]})})]},a.id))})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_2d80267f._.js.map