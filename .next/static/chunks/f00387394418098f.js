(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2809,e=>{e.v({actionButton:"AdminUsers-module__Ah9E4G__actionButton",backLink:"AdminUsers-module__Ah9E4G__backLink",container:"AdminUsers-module__Ah9E4G__container",header:"AdminUsers-module__Ah9E4G__header",table:"AdminUsers-module__Ah9E4G__table",tableContainer:"AdminUsers-module__Ah9E4G__tableContainer"})},11443,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(22016),a=e.i(18566),s=e.i(2809);function d(){let[e,d]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),o=(0,a.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("adminAuth")||o.push("/admin/login"),c()},[o]);let c=async()=>{try{let e=await fetch("/api/admin/users");if(e.ok){let t=await e.json();d(t)}}catch(e){console.error("Failed to fetch users:",e)}finally{l(!1)}},h=async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{(await fetch(`/api/admin/users/${e}`,{method:"DELETE"})).ok?c():alert("Failed to delete user")}catch(e){console.error("Error deleting user:",e),alert("An error occurred")}};return i?(0,t.jsx)("div",{style:{color:"white",padding:"2rem"},children:"Loading..."}):(0,t.jsxs)("div",{className:s.default.container,children:[(0,t.jsxs)("div",{className:s.default.header,children:[(0,t.jsx)("h1",{children:"User Management"}),(0,t.jsx)(n.default,{href:"/admin/dashboard",className:s.default.backLink,children:"â† Back to Dashboard"})]}),(0,t.jsx)("div",{className:s.default.tableContainer,children:(0,t.jsxs)("table",{className:s.default.table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Total Invested"}),(0,t.jsx)("th",{children:"Current Value"}),(0,t.jsx)("th",{children:"Active Plans"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.email}),(0,t.jsxs)("td",{children:["$",e.totalInvested?.toLocaleString()]}),(0,t.jsxs)("td",{children:["$",e.currentValue?.toLocaleString()]}),(0,t.jsx)("td",{children:e.activePlansCount}),(0,t.jsxs)("td",{children:[(0,t.jsx)(n.default,{href:`/admin/users/${e.id}`,className:s.default.actionButton,children:"Manage"}),(0,t.jsx)("button",{onClick:()=>h(e.id),className:s.default.deleteButton,style:{marginLeft:"10px",backgroundColor:"#e74c3c",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})]},e.id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No users found."})})]})]})})]})}e.s(["default",()=>d])}]);