(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55501,e=>{e.v({active:"AdminDashboard-module__RULA0G__active",addButton:"AdminDashboard-module__RULA0G__addButton",cancelButton:"AdminDashboard-module__RULA0G__cancelButton",card:"AdminDashboard-module__RULA0G__card",container:"AdminDashboard-module__RULA0G__container",editButton:"AdminDashboard-module__RULA0G__editButton",formActions:"AdminDashboard-module__RULA0G__formActions",formContainer:"AdminDashboard-module__RULA0G__formContainer",formGrid:"AdminDashboard-module__RULA0G__formGrid",grid:"AdminDashboard-module__RULA0G__grid",header:"AdminDashboard-module__RULA0G__header",inputGroup:"AdminDashboard-module__RULA0G__inputGroup",loading:"AdminDashboard-module__RULA0G__loading",logo:"AdminDashboard-module__RULA0G__logo",logoutButton:"AdminDashboard-module__RULA0G__logoutButton",mainContent:"AdminDashboard-module__RULA0G__mainContent",nav:"AdminDashboard-module__RULA0G__nav",saveButton:"AdminDashboard-module__RULA0G__saveButton",sidebar:"AdminDashboard-module__RULA0G__sidebar",stats:"AdminDashboard-module__RULA0G__stats"})},26394,e=>{"use strict";var a=e.i(30445),n=e.i(87483),t=e.i(70768),i=e.i(94082),s=e.i(55501);function d(){let[e,d]=(0,n.useState)([]),[o,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[h,_]=(0,n.useState)(!0),p=(0,i.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("adminAuth")?_(!1):p.push("/login"),f(),j()},[p]);let f=async()=>{try{let e=await fetch("/api/investments");if(e.ok){let a=await e.json();d(a)}}catch(e){console.error("Failed to fetch plans:",e)}},j=async()=>{try{let e=await fetch("/api/admin/settings"),a=await e.json();m(a.maintenanceMode)}catch(e){console.error("Error fetching settings:",e)}},x=async()=>{try{let e=!u;(await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maintenanceMode:e})})).ok&&(m(e),alert(`Maintenance mode is now ${e?"ON":"OFF"}`))}catch(e){console.error("Error toggling maintenance:",e)}},A=async e=>{e.preventDefault();let a=l.id?"PUT":"POST";try{await fetch("/api/investments",{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),r(!1),f()}catch(e){console.error("Failed to save plan:",e)}},v=e=>{let{name:a,value:n}=e.target;c(e=>({...e,[a]:n}))};return h?(0,a.jsx)("div",{className:s.default.loading,children:"Loading..."}):(0,a.jsxs)("div",{className:s.default.container,children:[(0,a.jsxs)("div",{className:s.default.sidebar,children:[(0,a.jsx)("div",{className:s.default.logo,children:"TESLA ADMIN"}),(0,a.jsxs)("nav",{className:s.default.nav,children:[(0,a.jsx)(t.default,{href:"/admin/dashboard",className:s.default.active,children:"Dashboard"}),(0,a.jsx)(t.default,{href:"/admin/users",children:"User Management"}),(0,a.jsx)(t.default,{href:"/admin/chat",children:"Support Chat"})]}),(0,a.jsx)("div",{className:s.default.maintenanceControl,style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"auto"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",color:u?"#f44336":"#4caf50"},children:[(0,a.jsx)("input",{type:"checkbox",checked:u,onChange:x,style:{accentColor:"#e82127"}}),u?"Maintenance ON":"Maintenance OFF"]})}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("adminAuth"),p.push("/login")},className:s.default.logoutButton,children:"Logout"})]}),(0,a.jsxs)("div",{className:s.default.mainContent,children:[(0,a.jsxs)("div",{className:s.default.header,children:[(0,a.jsx)("h1",{children:"Investment Plans"}),(0,a.jsx)("button",{onClick:()=>{c({name:"",minInvestment:"",roi:"",duration:"",risk:"",description:""}),r(!0)},className:s.default.addButton,children:"+ Add New Plan"})]}),o?(0,a.jsxs)("div",{className:s.default.formContainer,children:[(0,a.jsx)("h2",{children:l.id?"Edit Plan":"Add Plan"}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsxs)("div",{className:s.default.formGrid,children:[(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{children:"Name"}),(0,a.jsx)("input",{name:"name",value:l.name,onChange:v,required:!0})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{children:"Min Investment"}),(0,a.jsx)("input",{name:"minInvestment",type:"number",value:l.minInvestment,onChange:v,required:!0})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{children:"ROI"}),(0,a.jsx)("input",{name:"roi",value:l.roi,onChange:v,required:!0})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{children:"Duration"}),(0,a.jsx)("input",{name:"duration",value:l.duration,onChange:v,required:!0})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{children:"Risk"}),(0,a.jsx)("input",{name:"risk",value:l.risk,onChange:v,required:!0})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,style:{gridColumn:"1 / -1"},children:[(0,a.jsx)("label",{children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:l.description,onChange:v,required:!0,rows:"3"})]})]}),(0,a.jsxs)("div",{className:s.default.formActions,children:[(0,a.jsx)("button",{type:"button",onClick:()=>r(!1),className:s.default.cancelButton,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:s.default.saveButton,children:"Save"})]})]})]}):(0,a.jsx)("div",{className:s.default.grid,children:e.map(e=>(0,a.jsxs)("div",{className:s.default.card,children:[(0,a.jsx)("h3",{children:e.name}),(0,a.jsx)("p",{children:e.description}),(0,a.jsxs)("div",{className:s.default.stats,children:[(0,a.jsxs)("span",{children:["ROI: ",e.roi]}),(0,a.jsxs)("span",{children:["Min: $",e.minInvestment]})]}),(0,a.jsx)("button",{onClick:()=>{c(e),r(!0)},className:s.default.editButton,children:"Edit"})]},e.id))})]})]})}e.s(["default",()=>d])}]);