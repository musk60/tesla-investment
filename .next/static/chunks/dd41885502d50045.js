(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33151,e=>{e.v({card:"InvestmentCard-module__fyd2La__card",description:"InvestmentCard-module__fyd2La__description",header:"InvestmentCard-module__fyd2La__header",investButton:"InvestmentCard-module__fyd2La__investButton",label:"InvestmentCard-module__fyd2La__label",risk:"InvestmentCard-module__fyd2La__risk",stat:"InvestmentCard-module__fyd2La__stat",stats:"InvestmentCard-module__fyd2La__stats",value:"InvestmentCard-module__fyd2La__value"})},70435,e=>{e.v({cancelButton:"Investments-module__SjYKjq__cancelButton",confirmButton:"Investments-module__SjYKjq__confirmButton",container:"Investments-module__SjYKjq__container",error:"Investments-module__SjYKjq__error",inputGroup:"Investments-module__SjYKjq__inputGroup",investButton:"Investments-module__SjYKjq__investButton",modal:"Investments-module__SjYKjq__modal",modalActions:"Investments-module__SjYKjq__modalActions",modalOverlay:"Investments-module__SjYKjq__modalOverlay",success:"Investments-module__SjYKjq__success",title:"Investments-module__SjYKjq__title"})},69194,e=>{"use strict";var t=e.i(30445),s=e.i(87483),a=e.i(94082),n=e.i(33151);function l({plan:e}){return(0,t.jsxs)("div",{className:n.default.card,children:[(0,t.jsxs)("div",{className:n.default.header,children:[(0,t.jsx)("h3",{children:e.name}),(0,t.jsxs)("span",{className:n.default.risk,children:[e.risk," Risk"]})]}),(0,t.jsx)("p",{className:n.default.description,children:e.description}),(0,t.jsxs)("div",{className:n.default.stats,children:[(0,t.jsxs)("div",{className:n.default.stat,children:[(0,t.jsx)("span",{className:n.default.label,children:"ROI"}),(0,t.jsx)("span",{className:n.default.value,children:e.roi})]}),(0,t.jsxs)("div",{className:n.default.stat,children:[(0,t.jsx)("span",{className:n.default.label,children:"Min. Invest"}),(0,t.jsxs)("span",{className:n.default.value,children:["$",e.minInvestment]})]}),(0,t.jsxs)("div",{className:n.default.stat,children:[(0,t.jsx)("span",{className:n.default.label,children:"Duration"}),(0,t.jsx)("span",{className:n.default.value,children:e.duration})]})]})]})}var d=e.i(70435);function i(){let[e,n]=(0,s.useState)([]),[i,r]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),[o,m]=(0,s.useState)(""),[_,v]=(0,s.useState)(""),j=(0,a.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/investments");if(e.ok){let t=await e.json();n(t)}}catch(e){console.error("Failed to fetch plans")}})()},[]);let f=async e=>{e.preventDefault();let t=JSON.parse(localStorage.getItem("user"));try{let e=await fetch("/api/invest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,planId:i.id,amount:c})}),s=await e.json();e.ok?(v("Investment successful! Redirecting to dashboard..."),setTimeout(()=>{j.push("/dashboard")},2e3)):m(s.error||"Investment failed")}catch(e){m("An error occurred")}};return(0,t.jsxs)("div",{className:d.default.container,children:[(0,t.jsx)("h1",{className:d.default.title,children:"Investment Plans"}),(0,t.jsx)("p",{className:d.default.subtitle,children:"Choose a plan that suits your financial goals and risk tolerance."}),(0,t.jsx)("div",{className:d.default.grid,children:e.map(e=>(0,t.jsxs)("div",{className:d.default.cardWrapper,children:[(0,t.jsx)(l,{plan:e}),(0,t.jsx)("button",{className:d.default.investButton,onClick:()=>{!localStorage.getItem("user")?j.push("/login"):(r(e),u(e.minInvestment),m(""),v(""))},children:"Invest Now"})]},e.id))}),i&&(0,t.jsx)("div",{className:d.default.modalOverlay,onClick:()=>r(null),children:(0,t.jsxs)("div",{className:d.default.modal,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("h2",{children:["Invest in ",i.name]}),(0,t.jsxs)("p",{children:["Minimum Investment: $",i.minInvestment]}),o&&(0,t.jsx)("p",{className:d.default.error,children:o}),_&&(0,t.jsx)("p",{className:d.default.success,children:_}),!_&&(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:d.default.inputGroup,children:[(0,t.jsx)("label",{children:"Amount ($)"}),(0,t.jsx)("input",{type:"number",value:c,onChange:e=>u(e.target.value),min:i.minInvestment,required:!0})]}),(0,t.jsxs)("div",{className:d.default.modalActions,children:[(0,t.jsx)("button",{type:"button",onClick:()=>r(null),className:d.default.cancelButton,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:d.default.confirmButton,children:"Confirm Investment"})]})]})]})})]})}e.s(["default",()=>i],69194)}]);