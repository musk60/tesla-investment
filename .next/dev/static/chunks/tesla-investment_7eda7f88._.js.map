{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tesla-investment/styles/Dashboard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"amount\": \"Dashboard-module__2zyYLW__amount\",\n  \"card\": \"Dashboard-module__2zyYLW__card\",\n  \"date\": \"Dashboard-module__2zyYLW__date\",\n  \"label\": \"Dashboard-module__2zyYLW__label\",\n  \"loading\": \"Dashboard-module__2zyYLW__loading\",\n  \"negative\": \"Dashboard-module__2zyYLW__negative\",\n  \"noInvestments\": \"Dashboard-module__2zyYLW__noInvestments\",\n  \"overview\": \"Dashboard-module__2zyYLW__overview\",\n  \"pendingBadge\": \"Dashboard-module__2zyYLW__pendingBadge\",\n  \"pendingRow\": \"Dashboard-module__2zyYLW__pendingRow\",\n  \"pendingText\": \"Dashboard-module__2zyYLW__pendingText\",\n  \"planInfo\": \"Dashboard-module__2zyYLW__planInfo\",\n  \"planRow\": \"Dashboard-module__2zyYLW__planRow\",\n  \"planStats\": \"Dashboard-module__2zyYLW__planStats\",\n  \"portfolio\": \"Dashboard-module__2zyYLW__portfolio\",\n  \"positive\": \"Dashboard-module__2zyYLW__positive\",\n  \"statGroup\": \"Dashboard-module__2zyYLW__statGroup\",\n  \"subtitle\": \"Dashboard-module__2zyYLW__subtitle\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/app/dashboard/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from '../../styles/Dashboard.module.css';\r\n\r\nexport default function Dashboard() {\r\n    const [user, setUser] = useState(null);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // Check for logged in user\r\n        const storedUser = localStorage.getItem('user');\r\n        if (!storedUser) {\r\n            router.push('/login');\r\n            return;\r\n        }\r\n\r\n        const userData = JSON.parse(storedUser);\r\n        fetchUser(userData.email);\r\n    }, []);\r\n\r\n    const fetchUser = async (email) => {\r\n        try {\r\n            const res = await fetch(`/api/user?email=${email}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setUser(data);\r\n            } else {\r\n                // Handle error or logout\r\n                localStorage.removeItem('user');\r\n                router.push('/login');\r\n            }\r\n        } catch (e) {\r\n            console.error('Failed to fetch user data');\r\n        }\r\n    };\r\n\r\n    if (!user) return <div className={styles.loading}>Loading...</div>;\r\n\r\n    const totalReturn = user.currentValue - user.totalInvested;\r\n    const returnPercentage = user.totalInvested > 0\r\n        ? ((totalReturn / user.totalInvested) * 100).toFixed(2)\r\n        : '0.00';\r\n\r\n    return (\r\n        <div className={styles.dashboard}>\r\n            <h1 className={styles.title}>Welcome back, {user.name}</h1>\r\n\r\n            <div className={styles.overview}>\r\n                <div className={styles.card}>\r\n                    <h3>Total Invested</h3>\r\n                    <p className={styles.amount}>${user.totalInvested.toLocaleString()}</p>\r\n                </div>\r\n                <div className={styles.card}>\r\n                    <h3>Current Value</h3>\r\n                    <p className={styles.amount}>${user.currentValue.toLocaleString()}</p>\r\n                </div>\r\n                <div className={styles.card}>\r\n                    <h3>Total Return</h3>\r\n                    <p className={`${styles.amount} ${totalReturn >= 0 ? styles.positive : styles.negative}`}>\r\n                        {totalReturn >= 0 ? '+' : ''}${totalReturn.toLocaleString()} ({returnPercentage}%)\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <h2 className={styles.subtitle}>Your Portfolio</h2>\r\n            {user.activePlans.length === 0 ? (\r\n                <p className={styles.noInvestments}>You have no active investments. <a href=\"/investments\">Start investing now.</a></p>\r\n            ) : (\r\n                <div className={styles.portfolio}>\r\n                    {user.activePlans.map(plan => (\r\n                        <div key={plan.id} className={`${styles.planRow} ${plan.status === 'pending' ? styles.pendingRow : ''}`}>\r\n                            <div className={styles.planInfo}>\r\n                                <h4>\r\n                                    {plan.name}\r\n                                    {plan.status === 'pending' && <span className={styles.pendingBadge}>Pending Approval</span>}\r\n                                </h4>\r\n                                <span className={styles.date}>Invested on {plan.dateInvested}</span>\r\n                            </div>\r\n                            <div className={styles.planStats}>\r\n                                <div className={styles.statGroup}>\r\n                                    <span className={styles.label}>Invested</span>\r\n                                    <span>${plan.investedAmount.toLocaleString()}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}