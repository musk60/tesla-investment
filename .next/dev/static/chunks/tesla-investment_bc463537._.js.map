{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tesla-investment/styles/AdminUsers.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actionButton\": \"AdminUsers-module__MB0zMq__actionButton\",\n  \"backLink\": \"AdminUsers-module__MB0zMq__backLink\",\n  \"container\": \"AdminUsers-module__MB0zMq__container\",\n  \"header\": \"AdminUsers-module__MB0zMq__header\",\n  \"table\": \"AdminUsers-module__MB0zMq__table\",\n  \"tableContainer\": \"AdminUsers-module__MB0zMq__tableContainer\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/app/admin/users/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from '../../../styles/AdminUsers.module.css';\r\n\r\nexport default function AdminUsers() {\r\n    const [users, setUsers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const checkAuth = () => {\r\n            const isAdmin = localStorage.getItem('adminAuth');\r\n            if (!isAdmin) {\r\n                router.push('/admin/login');\r\n            }\r\n        };\r\n        checkAuth();\r\n        fetchUsers();\r\n    }, [router]);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const res = await fetch('/api/admin/users');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setUsers(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch users:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (userId) => {\r\n        if (confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\r\n            try {\r\n                const res = await fetch(`/api/admin/users/${userId}`, {\r\n                    method: 'DELETE',\r\n                });\r\n\r\n                if (res.ok) {\r\n                    // Refresh the list\r\n                    fetchUsers();\r\n                } else {\r\n                    alert('Failed to delete user');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting user:', error);\r\n                alert('An error occurred');\r\n            }\r\n        }\r\n    };\r\n\r\n    if (loading) return <div style={{ color: 'white', padding: '2rem' }}>Loading...</div>;\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.header}>\r\n                <h1>User Management</h1>\r\n                <Link href=\"/admin/dashboard\" className={styles.backLink}>\r\n                    ‚Üê Back to Dashboard\r\n                </Link>\r\n            </div>\r\n\r\n            <div className={styles.tableContainer}>\r\n                <table className={styles.table}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Email</th>\r\n                            <th>Total Invested</th>\r\n                            <th>Current Value</th>\r\n                            <th>Active Plans</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map(user => (\r\n                            <tr key={user.id}>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>${user.totalInvested?.toLocaleString()}</td>\r\n                                <td>${user.currentValue?.toLocaleString()}</td>\r\n                                <td>{user.activePlansCount}</td>\r\n                                <td>\r\n                                    <Link href={`/admin/users/${user.id}`} className={styles.actionButton}>\r\n                                        Manage\r\n                                    </Link>\r\n                                    <button\r\n                                        onClick={() => handleDelete(user.id)}\r\n                                        className={styles.deleteButton}\r\n                                        style={{ marginLeft: '10px', backgroundColor: '#e74c3c', color: 'white', border: 'none', padding: '0.5rem 1rem', borderRadius: '4px', cursor: 'pointer' }}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {users.length === 0 && (\r\n                            <tr>\r\n                                <td colSpan=\"6\" style={{ textAlign: 'center', padding: '2rem', color: '#999' }}>\r\n                                    No users found.\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}