{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tesla-investment/styles/Navbar.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"auth\": \"Navbar-module__gpr6cq__auth\",\n  \"links\": \"Navbar-module__gpr6cq__links\",\n  \"logo\": \"Navbar-module__gpr6cq__logo\",\n  \"logoutButton\": \"Navbar-module__gpr6cq__logoutButton\",\n  \"navbar\": \"Navbar-module__gpr6cq__navbar\",\n  \"registerButton\": \"Navbar-module__gpr6cq__registerButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/components/Navbar.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from '../styles/Navbar.module.css';\r\n\r\nexport default function Navbar() {\r\n    const [user, setUser] = useState(null);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // Check auth state on mount and when storage changes\r\n        const checkAuth = () => {\r\n            const storedUser = localStorage.getItem('user');\r\n            if (storedUser) {\r\n                setUser(JSON.parse(storedUser));\r\n            } else {\r\n                setUser(null);\r\n            }\r\n        };\r\n\r\n        checkAuth();\r\n        window.addEventListener('storage', checkAuth);\r\n        return () => window.removeEventListener('storage', checkAuth);\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('user');\r\n        setUser(null);\r\n        window.dispatchEvent(new Event('storage'));\r\n        router.push('/');\r\n    };\r\n\r\n    return (\r\n        <nav className={styles.navbar}>\r\n            <div className={styles.logo}>\r\n                <Link href=\"/\">TESLA</Link>\r\n            </div>\r\n            <div className={styles.links}>\r\n                <Link href=\"/investments\">Investments</Link>\r\n                {user ? (\r\n                    <>\r\n                        <Link href=\"/dashboard\">Dashboard</Link>\r\n                        <button onClick={handleLogout} className={styles.logoutButton}>Logout</button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <Link href=\"/about\">About</Link>\r\n                        <Link href=\"/login\">Login</Link>\r\n                        <Link href=\"/register\" className={styles.registerButton}>Register</Link>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gMAAQ,EAAC;IACjC,MAAM,SAAS,IAAA,yKAAS;IAExB,IAAA,iMAAS;4BAAC;YACN,qDAAqD;YACrD,MAAM;8CAAY;oBACd,MAAM,aAAa,aAAa,OAAO,CAAC;oBACxC,IAAI,YAAY;wBACZ,QAAQ,KAAK,KAAK,CAAC;oBACvB,OAAO;wBACH,QAAQ;oBACZ;gBACJ;;YAEA;YACA,OAAO,gBAAgB,CAAC,WAAW;YACnC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACvD;2BAAG,EAAE;IAEL,MAAM,eAAe;QACjB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,aAAa,CAAC,IAAI,MAAM;QAC/B,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,oNAAC;QAAI,WAAW,iKAAM,CAAC,MAAM;;0BACzB,oNAAC;gBAAI,WAAW,iKAAM,CAAC,IAAI;0BACvB,cAAA,oNAAC,iMAAI;oBAAC,MAAK;8BAAI;;;;;;;;;;;0BAEnB,oNAAC;gBAAI,WAAW,iKAAM,CAAC,KAAK;;kCACxB,oNAAC,iMAAI;wBAAC,MAAK;kCAAe;;;;;;oBACzB,qBACG;;0CACI,oNAAC,iMAAI;gCAAC,MAAK;0CAAa;;;;;;0CACxB,oNAAC;gCAAO,SAAS;gCAAc,WAAW,iKAAM,CAAC,YAAY;0CAAE;;;;;;;qDAGnE;;0CACI,oNAAC,iMAAI;gCAAC,MAAK;0CAAS;;;;;;0CACpB,oNAAC,iMAAI;gCAAC,MAAK;0CAAS;;;;;;0CACpB,oNAAC,iMAAI;gCAAC,MAAK;gCAAY,WAAW,iKAAM,CAAC,cAAc;0CAAE;;;;;;;;;;;;;;;;;;;;AAMjF;GAjDwB;;QAEL,yKAAS;;;KAFJ"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tesla-investment/styles/ChatWidget.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"adminMessage\": \"ChatWidget-module__Af3wUG__adminMessage\",\n  \"chatWidget\": \"ChatWidget-module__Af3wUG__chatWidget\",\n  \"chatWindow\": \"ChatWidget-module__Af3wUG__chatWindow\",\n  \"closeButton\": \"ChatWidget-module__Af3wUG__closeButton\",\n  \"header\": \"ChatWidget-module__Af3wUG__header\",\n  \"input\": \"ChatWidget-module__Af3wUG__input\",\n  \"inputArea\": \"ChatWidget-module__Af3wUG__inputArea\",\n  \"message\": \"ChatWidget-module__Af3wUG__message\",\n  \"messages\": \"ChatWidget-module__Af3wUG__messages\",\n  \"sendButton\": \"ChatWidget-module__Af3wUG__sendButton\",\n  \"toggleButton\": \"ChatWidget-module__Af3wUG__toggleButton\",\n  \"userMessage\": \"ChatWidget-module__Af3wUG__userMessage\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/components/ChatWidget.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport styles from '../styles/ChatWidget.module.css';\r\n\r\nexport default function ChatWidget() {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n    const [chatId, setChatId] = useState(null);\r\n    const [user, setUser] = useState(null);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Check auth state\r\n        const checkAuth = () => {\r\n            const storedUser = localStorage.getItem('user');\r\n            if (storedUser) {\r\n                setUser(JSON.parse(storedUser));\r\n            } else {\r\n                setUser(null);\r\n            }\r\n        };\r\n\r\n        checkAuth();\r\n        window.addEventListener('storage', checkAuth);\r\n        return () => window.removeEventListener('storage', checkAuth);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n\r\n        // Load chat ID from local storage or create new one based on user ID\r\n        let storedChatId = localStorage.getItem(`chatId_${user.id}`);\r\n        if (!storedChatId) {\r\n            storedChatId = `chat_user_${user.id}`;\r\n            localStorage.setItem(`chatId_${user.id}`, storedChatId);\r\n        }\r\n        setChatId(storedChatId);\r\n\r\n        // Poll for new messages\r\n        const interval = setInterval(() => {\r\n            if (isOpen && storedChatId) {\r\n                fetchMessages(storedChatId);\r\n            }\r\n        }, 3000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [isOpen, user]);\r\n\r\n    const fetchMessages = async (id) => {\r\n        try {\r\n            const res = await fetch(`/api/chat?chatId=${id}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setMessages(data.messages || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching messages:', error);\r\n        }\r\n    };\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim()) return;\r\n\r\n        const newMessage = {\r\n            text: input,\r\n            sender: 'user',\r\n            timestamp: new Date().toISOString()\r\n        };\r\n\r\n        // Optimistic update\r\n        setMessages([...messages, newMessage]);\r\n        setInput('');\r\n\r\n        try {\r\n            await fetch('/api/chat', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ chatId, message: newMessage })\r\n            });\r\n            fetchMessages(chatId); // Sync with server\r\n        } catch (error) {\r\n            console.error('Error sending message:', error);\r\n        }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className={styles.chatWidget}>\r\n            {isOpen && (\r\n                <div className={styles.chatWindow}>\r\n                    <div className={styles.header}>\r\n                        <h3>Tesla Support</h3>\r\n                        <button onClick={() => setIsOpen(false)} className={styles.closeButton}>Ã—</button>\r\n                    </div>\r\n                    <div className={styles.messages}>\r\n                        {messages.length === 0 && (\r\n                            <div style={{ textAlign: 'center', color: '#888', marginTop: '2rem' }}>\r\n                                How can we help you today, {user.name}?\r\n                            </div>\r\n                        )}\r\n                        {messages.map((msg, index) => (\r\n                            <div\r\n                                key={index}\r\n                                className={`${styles.message} ${msg.sender === 'user' ? styles.userMessage : styles.adminMessage}`}\r\n                            >\r\n                                {msg.text}\r\n                            </div>\r\n                        ))}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n                    <form onSubmit={handleSend} className={styles.inputArea}>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={input}\r\n                            onChange={(e) => setInput(e.target.value)}\r\n                            placeholder=\"Type a message...\"\r\n                            className={styles.input}\r\n                        />\r\n                        <button type=\"submit\" disabled={!input.trim()} className={styles.sendButton}>\r\n                            Send\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n            <button onClick={() => setIsOpen(!isOpen)} className={styles.toggleButton}>\r\n                {isOpen ? 'âœ•' : 'ðŸ’¬'}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}