{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/lib/data.js"],"sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst dataDirectory = path.join(process.cwd(), 'data');\r\nconst investmentsFilePath = path.join(dataDirectory, 'investments.json');\r\n\r\nexport function getInvestments() {\r\n    const fileContents = fs.readFileSync(investmentsFilePath, 'utf8');\r\n    return JSON.parse(fileContents);\r\n}\r\n\r\nexport function saveInvestments(investments) {\r\n    fs.writeFileSync(investmentsFilePath, JSON.stringify(investments, null, 2));\r\n}\r\n\r\nconst usersFilePath = path.join(dataDirectory, 'users.json');\r\n\r\nexport function getUsers() {\r\n    if (!fs.existsSync(usersFilePath)) {\r\n        return [];\r\n    }\r\n    const fileContents = fs.readFileSync(usersFilePath, 'utf8');\r\n    return JSON.parse(fileContents);\r\n}\r\n\r\nexport function saveUsers(users) {\r\n    fs.writeFileSync(usersFilePath, JSON.stringify(users, null, 2));\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,gBAAgB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC/C,MAAM,sBAAsB,4GAAI,CAAC,IAAI,CAAC,eAAe;AAE9C,SAAS;IACZ,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,qBAAqB;IAC1D,OAAO,KAAK,KAAK,CAAC;AACtB;AAEO,SAAS,gBAAgB,WAAW;IACvC,wGAAE,CAAC,aAAa,CAAC,qBAAqB,KAAK,SAAS,CAAC,aAAa,MAAM;AAC5E;AAEA,MAAM,gBAAgB,4GAAI,CAAC,IAAI,CAAC,eAAe;AAExC,SAAS;IACZ,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,gBAAgB;QAC/B,OAAO,EAAE;IACb;IACA,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,eAAe;IACpD,OAAO,KAAK,KAAK,CAAC;AACtB;AAEO,SAAS,UAAU,KAAK;IAC3B,wGAAE,CAAC,aAAa,CAAC,eAAe,KAAK,SAAS,CAAC,OAAO,MAAM;AAChE"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER-PC/OneDrive/Documents/ANTIGRA/tesla-investment/app/api/auth/login/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { getUsers } from '../../../../lib/data';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst settingsFilePath = path.join(process.cwd(), 'data', 'settings.json');\r\n\r\nfunction getSettings() {\r\n    if (!fs.existsSync(settingsFilePath)) {\r\n        return { maintenanceMode: false };\r\n    }\r\n    const fileContent = fs.readFileSync(settingsFilePath, 'utf8');\r\n    return JSON.parse(fileContent);\r\n}\r\n\r\nexport async function POST(request) {\r\n    try {\r\n        const { email, password } = await request.json();\r\n\r\n        // Check Maintenance Mode\r\n        const settings = getSettings();\r\n        if (settings.maintenanceMode) {\r\n            return NextResponse.json({ error: 'Site is under maintenance. Please try again later.' }, { status: 503 });\r\n        }\r\n\r\n        const users = getUsers();\r\n        const user = users.find(u => u.email === email && u.password === password);\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });\r\n        }\r\n\r\n        // In a real app, we would set a secure HTTP-only cookie here.\r\n        // For this MVP, we'll return the user info and let the client handle state/localStorage.\r\n        return NextResponse.json({\r\n            success: true,\r\n            user: {\r\n                id: user.id,\r\n                name: user.name,\r\n                email: user.email\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Login error:', error);\r\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,mBAAmB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAE1D,SAAS;IACL,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,mBAAmB;QAClC,OAAO;YAAE,iBAAiB;QAAM;IACpC;IACA,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,kBAAkB;IACtD,OAAO,KAAK,KAAK,CAAC;AACtB;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9C,yBAAyB;QACzB,MAAM,WAAW;QACjB,IAAI,SAAS,eAAe,EAAE;YAC1B,OAAO,uKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqD,GAAG;gBAAE,QAAQ;YAAI;QAC5G;QAEA,MAAM,QAAQ,IAAA,gJAAQ;QACtB,MAAM,OAAO,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,SAAS,EAAE,QAAQ,KAAK;QAEjE,IAAI,CAAC,MAAM;YACP,OAAO,uKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,8DAA8D;QAC9D,yFAAyF;QACzF,OAAO,uKAAY,CAAC,IAAI,CAAC;YACrB,SAAS;YACT,MAAM;gBACF,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,OAAO,KAAK,KAAK;YACrB;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,uKAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}