(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53279,e=>{e.v({card:"InvestmentCard-module__MDNESW__card",description:"InvestmentCard-module__MDNESW__description",header:"InvestmentCard-module__MDNESW__header",investButton:"InvestmentCard-module__MDNESW__investButton",label:"InvestmentCard-module__MDNESW__label",risk:"InvestmentCard-module__MDNESW__risk",stat:"InvestmentCard-module__MDNESW__stat",stats:"InvestmentCard-module__MDNESW__stats",value:"InvestmentCard-module__MDNESW__value"})},89839,e=>{e.v({cancelButton:"Investments-module__J1sRBW__cancelButton",confirmButton:"Investments-module__J1sRBW__confirmButton",container:"Investments-module__J1sRBW__container",error:"Investments-module__J1sRBW__error",inputGroup:"Investments-module__J1sRBW__inputGroup",investButton:"Investments-module__J1sRBW__investButton",modal:"Investments-module__J1sRBW__modal",modalActions:"Investments-module__J1sRBW__modalActions",modalOverlay:"Investments-module__J1sRBW__modalOverlay",success:"Investments-module__J1sRBW__success",title:"Investments-module__J1sRBW__title"})},36608,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),n=e.i(53279);function l({plan:e}){return(0,s.jsxs)("div",{className:n.default.card,children:[(0,s.jsxs)("div",{className:n.default.header,children:[(0,s.jsx)("h3",{children:e.name}),(0,s.jsxs)("span",{className:n.default.risk,children:[e.risk," Risk"]})]}),(0,s.jsx)("p",{className:n.default.description,children:e.description}),(0,s.jsxs)("div",{className:n.default.stats,children:[(0,s.jsxs)("div",{className:n.default.stat,children:[(0,s.jsx)("span",{className:n.default.label,children:"ROI"}),(0,s.jsx)("span",{className:n.default.value,children:e.roi})]}),(0,s.jsxs)("div",{className:n.default.stat,children:[(0,s.jsx)("span",{className:n.default.label,children:"Min. Invest"}),(0,s.jsxs)("span",{className:n.default.value,children:["$",e.minInvestment]})]}),(0,s.jsxs)("div",{className:n.default.stat,children:[(0,s.jsx)("span",{className:n.default.label,children:"Duration"}),(0,s.jsx)("span",{className:n.default.value,children:e.duration})]})]})]})}var d=e.i(89839);function i(){let[e,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(null),[c,u]=(0,t.useState)(""),[o,m]=(0,t.useState)(""),[_,v]=(0,t.useState)(""),h=(0,a.useRouter)();(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/investments");if(e.ok){let s=await e.json();n(s)}}catch(e){console.error("Failed to fetch plans")}})()},[]);let f=async e=>{e.preventDefault();let s=JSON.parse(localStorage.getItem("user"));try{let e=await fetch("/api/invest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,planId:i.id,amount:c})}),t=await e.json();e.ok?(v("Investment successful! Redirecting to dashboard..."),setTimeout(()=>{h.push("/dashboard")},2e3)):m(t.error||"Investment failed")}catch(e){m("An error occurred")}};return(0,s.jsxs)("div",{className:d.default.container,children:[(0,s.jsx)("h1",{className:d.default.title,children:"Investment Plans"}),(0,s.jsx)("p",{className:d.default.subtitle,children:"Choose a plan that suits your financial goals and risk tolerance."}),(0,s.jsx)("div",{className:d.default.grid,children:e.map(e=>(0,s.jsxs)("div",{className:d.default.cardWrapper,children:[(0,s.jsx)(l,{plan:e}),(0,s.jsx)("button",{className:d.default.investButton,onClick:()=>{!localStorage.getItem("user")?h.push("/login"):(r(e),u(e.minInvestment),m(""),v(""))},children:"Invest Now"})]},e.id))}),i&&(0,s.jsx)("div",{className:d.default.modalOverlay,onClick:()=>r(null),children:(0,s.jsxs)("div",{className:d.default.modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("h2",{children:["Invest in ",i.name]}),(0,s.jsxs)("p",{children:["Minimum Investment: $",i.minInvestment]}),o&&(0,s.jsx)("p",{className:d.default.error,children:o}),_&&(0,s.jsx)("p",{className:d.default.success,children:_}),!_&&(0,s.jsxs)("form",{onSubmit:f,children:[(0,s.jsxs)("div",{className:d.default.inputGroup,children:[(0,s.jsx)("label",{children:"Amount ($)"}),(0,s.jsx)("input",{type:"number",value:c,onChange:e=>u(e.target.value),min:i.minInvestment,required:!0})]}),(0,s.jsxs)("div",{className:d.default.modalActions,children:[(0,s.jsx)("button",{type:"button",onClick:()=>r(null),className:d.default.cancelButton,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:d.default.confirmButton,children:"Confirm Investment"})]})]})]})})]})}e.s(["default",()=>i],36608)}]);