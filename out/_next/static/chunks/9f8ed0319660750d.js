(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61973,e=>{e.v({amount:"Dashboard-module__2YNnkq__amount",card:"Dashboard-module__2YNnkq__card",date:"Dashboard-module__2YNnkq__date",label:"Dashboard-module__2YNnkq__label",loading:"Dashboard-module__2YNnkq__loading",negative:"Dashboard-module__2YNnkq__negative",noInvestments:"Dashboard-module__2YNnkq__noInvestments",overview:"Dashboard-module__2YNnkq__overview",pendingBadge:"Dashboard-module__2YNnkq__pendingBadge",pendingRow:"Dashboard-module__2YNnkq__pendingRow",pendingText:"Dashboard-module__2YNnkq__pendingText",planInfo:"Dashboard-module__2YNnkq__planInfo",planRow:"Dashboard-module__2YNnkq__planRow",planStats:"Dashboard-module__2YNnkq__planStats",portfolio:"Dashboard-module__2YNnkq__portfolio",positive:"Dashboard-module__2YNnkq__positive",statGroup:"Dashboard-module__2YNnkq__statGroup",subtitle:"Dashboard-module__2YNnkq__subtitle"})},53215,e=>{"use strict";var a=e.i(43476),s=e.i(71645),l=e.i(18566),t=e.i(61973);function n(){let[e,n]=(0,s.useState)(null),d=(0,l.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("user");e?o(JSON.parse(e).email):d.push("/login")},[]);let o=async e=>{try{let a=await fetch(`/api/user?email=${e}`);if(a.ok){let e=await a.json();n(e)}else localStorage.removeItem("user"),d.push("/login")}catch(e){console.error("Failed to fetch user data")}};if(!e)return(0,a.jsx)("div",{className:t.default.loading,children:"Loading..."});let i=e.currentValue-e.totalInvested,r=e.totalInvested>0?(i/e.totalInvested*100).toFixed(2):"0.00";return(0,a.jsxs)("div",{className:t.default.dashboard,children:[(0,a.jsxs)("h1",{className:t.default.title,children:["Welcome back, ",e.name]}),(0,a.jsxs)("div",{className:t.default.overview,children:[(0,a.jsxs)("div",{className:t.default.card,children:[(0,a.jsx)("h3",{children:"Total Invested"}),(0,a.jsxs)("p",{className:t.default.amount,children:["$",e.totalInvested.toLocaleString()]})]}),(0,a.jsxs)("div",{className:t.default.card,children:[(0,a.jsx)("h3",{children:"Current Value"}),(0,a.jsxs)("p",{className:t.default.amount,children:["$",e.currentValue.toLocaleString()]})]}),(0,a.jsxs)("div",{className:t.default.card,children:[(0,a.jsx)("h3",{children:"Total Return"}),(0,a.jsxs)("p",{className:`${t.default.amount} ${i>=0?t.default.positive:t.default.negative}`,children:[i>=0?"+":"","$",i.toLocaleString()," (",r,"%)"]})]})]}),(0,a.jsx)("h2",{className:t.default.subtitle,children:"Your Portfolio"}),0===e.activePlans.length?(0,a.jsxs)("p",{className:t.default.noInvestments,children:["You have no active investments. ",(0,a.jsx)("a",{href:"/investments",children:"Start investing now."})]}):(0,a.jsx)("div",{className:t.default.portfolio,children:e.activePlans.map(e=>(0,a.jsxs)("div",{className:`${t.default.planRow} ${"pending"===e.status?t.default.pendingRow:""}`,children:[(0,a.jsxs)("div",{className:t.default.planInfo,children:[(0,a.jsxs)("h4",{children:[e.name,"pending"===e.status&&(0,a.jsx)("span",{className:t.default.pendingBadge,children:"Pending Approval"})]}),(0,a.jsxs)("span",{className:t.default.date,children:["Invested on ",e.dateInvested]})]}),(0,a.jsx)("div",{className:t.default.planStats,children:(0,a.jsxs)("div",{className:t.default.statGroup,children:[(0,a.jsx)("span",{className:t.default.label,children:"Invested"}),(0,a.jsxs)("span",{children:["$",e.investedAmount.toLocaleString()]})]})})]},e.id))})]})}e.s(["default",()=>n])}]);